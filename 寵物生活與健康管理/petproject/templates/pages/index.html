{% extends "base.html" %}
{% load static %}

{% block title %}毛孩幸福生活 - 毛日好 Paw&Day{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/homepage.css' %}">
{% endblock %}

{% block content %}
<!-- Hero Section -->
<section class="hero-section">
  <div class="container">
    <div class="row align-items-center">
      <div class="col-lg-6 col-md-6 mb-4 mb-md-0">
        <div class="hero-text">
          <h1 class="display-4 fw-bold">
            打造毛孩專屬<br>
            <span class="text-warning">幸福生活！</span>
          </h1>
          <p class="lead text-muted mb-4">專業的寵物健康管理平台，記錄每一個珍貴時刻</p>
          <div class="d-flex flex-wrap gap-3">
            <a href="{% if user.is_authenticated %}{% url 'add_pet' %}{% else %}{% url 'account_signup' %}{% endif %}" 
               class="btn btn-primary-custom btn-lg">
              <i class="bi bi-plus-circle me-2"></i>立即開始
            </a>
            <a href="{% url 'map' %}" class="btn btn-outline-warning btn-lg">
              <i class="bi bi-geo-alt me-2"></i>尋找附近
            </a>
          </div>
        </div>
      </div>
      <div class="col-lg-6 col-md-6 text-center">
        <img src="{% static 'images/hero_cat.webp' %}" alt="毛孩插圖" class="hero-img img-fluid" style="max-height: 400px;">
      </div>
    </div>
  </div>
</section>

<!-- Latest News Section -->
<section class="news-section bg-light">
  <div class="container">
    <div class="row">
      <div class="col-12">
        <h2 class="news-title text-center mb-4">
          <i class="bi bi-newspaper me-3"></i>最新消息
        </h2>
        
        <div class="news-scroll-container">
          <div class="d-flex gap-3 pb-3" style="overflow-x: auto; min-width: max-content;">
            <a href="https://dailyview.tw/popular/detail/29132" class="news-card" target="_blank" rel="noopener">
              <img src="{% static 'images/news_1.webp' %}" alt="寵物新聞" class="img-fluid">
            </a>
            <a href="https://www.jvs.com.tw/blog/posts/..." class="news-card" target="_blank" rel="noopener">
              <img src="{% static 'images/news_2.jpg' %}" alt="寵物新聞" class="img-fluid">
            </a>
            <a href="https://udn.com/news/story/..." class="news-card" target="_blank" rel="noopener">
              <img src="{% static 'images/news_3.jpg' %}" alt="寵物新聞" class="img-fluid">
            </a>
            <a href="https://animal.moa.gov.tw/Frontend/News/..." class="news-card" target="_blank" rel="noopener">
              <img src="{% static 'images/news_4.jpg' %}" alt="寵物新聞" class="img-fluid">
            </a>
            <a href="https://www.dotdotnews.com/a/202503/..." class="news-card" target="_blank" rel="noopener">
              <img src="{% static 'images/news_5.jpg' %}" alt="寵物新聞" class="img-fluid">
            </a>
            <a href="https://www.youtube.com/watch?v=uBhBu-LYSqM" class="news-card" target="_blank" rel="noopener">
              <img src="{% static 'images/news_youtube.jpg' %}" alt="寵物影片" class="img-fluid">
            </a>
            <div class="news-card more">
              <span><i class="bi bi-arrow-right-circle me-2"></i>更多消息</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Category Icons Section -->
<section class="py-5">
  <div class="container">
    <div class="row">
      <div class="col-12 text-center mb-5">
        <h2 class="display-6 fw-bold text-dark">快速功能</h2>
        <p class="lead text-muted">選擇您需要的服務，讓毛孩生活更美好</p>
      </div>
    </div>
    
    <div class="row g-4 justify-content-center">
      <!-- 第一個功能卡片 -->
      <div class="col-lg-3 col-md-4 col-sm-6">
        {% if user.is_authenticated and user.profile.account_type == 'veterinarian' %}
          <a href="{% url 'my_patients' %}" class="category-card">
            <img src="{% static 'images/icon_add_pet.png' %}" class="category-icon" alt="看診寵物">
            <div class="category-text">看診寵物</div>
          </a>
        {% else %}
          <a href="{% if user.is_authenticated %}{% url 'add_pet' %}{% else %}{% url 'account_signup' %}{% endif %}" class="category-card">
            <img src="{% static 'images/icon_add_pet.png' %}" class="category-icon" alt="新增毛孩">
            <div class="category-text">新增毛孩</div>
          </a>
        {% endif %}
      </div>

      <!-- 第二個功能卡片 -->
      <div class="col-lg-3 col-md-4 col-sm-6">
        {% if user.is_authenticated and user.profile.account_type == 'veterinarian' %}
          <a href="{% url 'vet_appointments' %}" class="category-card">
            <img src="{% static 'images/icon_health.png' %}" class="category-icon" alt="查看預約">
            <div class="category-text">查看預約</div>
          </a>
        {% else %}
          <a href="{% if user.is_authenticated %}{% url 'health_rec' %}{% else %}{% url 'account_login' %}{% endif %}" class="category-card">
            <img src="{% static 'images/icon_health.png' %}" class="category-icon" alt="健康紀錄">
            <div class="category-text">健康紀錄</div>
          </a>
        {% endif %}
      </div>

      <!-- 第三個功能卡片 -->
      <div class="col-lg-3 col-md-4 col-sm-6">
        {% if user.is_authenticated and user.profile.account_type == 'clinic_admin' %}
          <a href="{% url 'manage_schedules' %}" class="category-card">
            <img src="{% static 'images/icon_time.png' %}" class="category-icon" alt="排班時段">
            <div class="category-text">排班時段</div>
          </a>
        {% else %}
          <a href="{% url 'map' %}" class="category-card">
            <img src="{% static 'images/icon_location.png' %}" class="category-icon" alt="搜尋附近">
            <div class="category-text">搜尋附近</div>
          </a>
        {% endif %}
      </div>
      
      <!-- 第四個功能卡片 -->
      <div class="col-lg-3 col-md-4 col-sm-6">
        <a href="{% url 'emergency_map' %}" class="category-card">
          <img src="{% static 'images/icon_emergency.png' %}" class="category-icon" alt="急診">
          <div class="category-text">
            <span class="text-danger">24H 急診</span>
          </div>
        </a>
      </div>
    </div>
  </div>
</section>

<!-- Features Highlight Section -->
<section class="py-5 bg-light">
  <div class="container">
    <div class="row">
      <div class="col-12 text-center mb-5">
        <h2 class="display-6 fw-bold text-dark">為什麼選擇 PAW&DAY？</h2>
        <p class="lead text-muted">專業、便利、安心的寵物生活管理</p>
      </div>
    </div>
    
    <div class="row g-4">
      <div class="col-lg-4 col-md-6">
        <div class="text-center h-100 p-4">
          <div class="bg-warning bg-opacity-10 rounded-circle d-inline-flex align-items-center justify-content-center mb-3" style="width: 80px; height: 80px;">
            <i class="bi bi-shield-check text-warning" style="font-size: 2rem;"></i>
          </div>
          <h4 class="fw-bold">專業可靠</h4>
          <p class="text-muted">與認證獸醫合作，提供最專業的寵物健康管理建議</p>
        </div>
      </div>
      
      <div class="col-lg-4 col-md-6">
        <div class="text-center h-100 p-4">
          <div class="bg-warning bg-opacity-10 rounded-circle d-inline-flex align-items-center justify-content-center mb-3" style="width: 80px; height: 80px;">
            <i class="bi bi-phone text-warning" style="font-size: 2rem;"></i>
          </div>
          <h4 class="fw-bold">隨時隨地</h4>
          <p class="text-muted">手機、電腦都能使用，隨時記錄毛孩的生活點滴</p>
        </div>
      </div>
      
      <div class="col-lg-4 col-md-6">
        <div class="text-center h-100 p-4">
          <div class="bg-warning bg-opacity-10 rounded-circle d-inline-flex align-items-center justify-content-center mb-3" style="width: 80px; height: 80px;">
            <i class="bi bi-heart-fill text-warning" style="font-size: 2rem;"></i>
          </div>
          <h4 class="fw-bold">用心服務</h4>
          <p class="text-muted">貼心的提醒功能，永遠不會錯過重要的健康檢查</p>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Call to Action -->
{% if not user.is_authenticated %}
<section class="py-5">
  <div class="container">
    <div class="row">
      <div class="col-lg-8 mx-auto text-center">
        <h2 class="display-6 fw-bold mb-4">立即加入 PAW&DAY 大家庭</h2>
        <p class="lead text-muted mb-4">開始為您的毛孩建立專屬的健康檔案</p>
        <div class="d-flex flex-wrap justify-content-center gap-3">
          <a href="{% url 'account_signup' %}" class="btn btn-primary-custom btn-lg">
            <i class="bi bi-person-plus me-2"></i>免費註冊
          </a>
          <a href="{% url 'account_login' %}" class="btn btn-outline-warning btn-lg">
            <i class="bi bi-box-arrow-in-right me-2"></i>立即登入
          </a>
        </div>
      </div>
    </div>
  </div>
</section>
{% endif %}
{% endblock %}

{% block extra_js %}
<script src="{% static 'js/homepage.js' %}"></script>
{% endblock %}
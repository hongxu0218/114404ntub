{% extends "base.html" %}
{% load static %}

{% block title %}æ¯›å­©å¹¸ç¦ç”Ÿæ´» - æ¯›æ—¥å¥½ Paw&Day{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/homepage.css' %}">
{% endblock %}

{% block content %}
<!-- Hero Section -->
<section class="hero-section">
  <div class="container">
    <div class="row align-items-center">
      <div class="col-lg-6 col-md-6 mb-4 mb-md-0">
        <div class="hero-text">
          <h1 class="display-4 fw-bold">
            æ‰“é€ æ¯›å­©å°ˆå±¬<br>
            <span class="text-warning">å¹¸ç¦ç”Ÿæ´»ï¼</span>
          </h1>
          <p class="lead text-muted mb-4">å°ˆæ¥­çš„å¯µç‰©å¥åº·ç®¡ç†å¹³å°ï¼Œè¨˜éŒ„æ¯ä¸€å€‹çè²´æ™‚åˆ»</p>
          <div class="d-flex flex-wrap gap-3">
            <a href="{% if user.is_authenticated %}{% url 'add_pet' %}{% else %}{% url 'account_signup' %}{% endif %}" 
               class="btn btn-primary-custom btn-lg">
              <i class="bi bi-plus-circle me-2"></i>ç«‹å³é–‹å§‹
            </a>
            <a href="{% url 'map' %}" class="btn btn-outline-warning btn-lg">
              <i class="bi bi-geo-alt me-2"></i>å°‹æ‰¾é™„è¿‘
            </a>
          </div>
        </div>
      </div>
      <div class="col-lg-6 col-md-6 text-center">
        <img src="{% static 'images/hero_cat.webp' %}" alt="æ¯›å­©æ’åœ–" class="hero-img img-fluid" style="max-height: 400px;">
      </div>
    </div>
  </div>
</section>

<!-- Latest News Section -->
<section class="news-section bg-light">
  <div class="container">
    <div class="row">
      <div class="col-12">
        <h2 class="news-title text-center mb-4">
          <i class="bi bi-newspaper me-3"></i>æœ€æ–°æ¶ˆæ¯
        </h2>
        
        <div class="news-scroll-container">
          <div class="d-flex gap-3 pb-3" style="overflow-x: auto; min-width: max-content;">
            <a href="https://dailyview.tw/popular/detail/29132" class="news-card" target="_blank" rel="noopener">
              <img src="{% static 'images/news_1.webp' %}" alt="å¯µç‰©æ–°è" class="img-fluid">
            </a>
            <a href="https://www.jvs.com.tw/blog/posts/..." class="news-card" target="_blank" rel="noopener">
              <img src="{% static 'images/news_2.jpg' %}" alt="å¯µç‰©æ–°è" class="img-fluid">
            </a>
            <a href="https://udn.com/news/story/..." class="news-card" target="_blank" rel="noopener">
              <img src="{% static 'images/news_3.jpg' %}" alt="å¯µç‰©æ–°è" class="img-fluid">
            </a>
            <a href="https://animal.moa.gov.tw/Frontend/News/..." class="news-card" target="_blank" rel="noopener">
              <img src="{% static 'images/news_4.jpg' %}" alt="å¯µç‰©æ–°è" class="img-fluid">
            </a>
            <a href="https://www.dotdotnews.com/a/202503/..." class="news-card" target="_blank" rel="noopener">
              <img src="{% static 'images/news_5.jpg' %}" alt="å¯µç‰©æ–°è" class="img-fluid">
            </a>
            <a href="https://www.youtube.com/watch?v=uBhBu-LYSqM" class="news-card" target="_blank" rel="noopener">
              <img src="{% static 'images/news_youtube.jpg' %}" alt="å¯µç‰©å½±ç‰‡" class="img-fluid">
            </a>
            <div class="news-card more">
              <span><i class="bi bi-arrow-right-circle me-2"></i>æ›´å¤šæ¶ˆæ¯</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Category Icons Section -->
<section class="py-5">
  <div class="container">
    <div class="row">
      <div class="col-12 text-center mb-5">
        <h2 class="display-6 fw-bold text-dark">å¿«é€ŸåŠŸèƒ½</h2>
        <p class="lead text-muted">é¸æ“‡æ‚¨éœ€è¦çš„æœå‹™ï¼Œè®“æ¯›å­©ç”Ÿæ´»æ›´ç¾å¥½</p>
      </div>
    </div>
    
    <div class="row g-4 justify-content-center">
      <!-- ç¬¬ä¸€å€‹åŠŸèƒ½å¡ç‰‡ -->
      <div class="col-lg-3 col-md-4 col-sm-6">
        {% if user.is_authenticated and user.profile.account_type == 'veterinarian' %}
          <a href="{% url 'my_patients' %}" class="category-card">
            <img src="{% static 'images/icon_add_pet.png' %}" class="category-icon" alt="çœ‹è¨ºå¯µç‰©">
            <div class="category-text">çœ‹è¨ºå¯µç‰©</div>
          </a>
        {% else %}
          <a href="{% if user.is_authenticated %}{% url 'add_pet' %}{% else %}{% url 'account_signup' %}{% endif %}" class="category-card">
            <img src="{% static 'images/icon_add_pet.png' %}" class="category-icon" alt="æ–°å¢æ¯›å­©">
            <div class="category-text">æ–°å¢æ¯›å­©</div>
          </a>
        {% endif %}
      </div>

      <!-- ç¬¬äºŒå€‹åŠŸèƒ½å¡ç‰‡ -->
      <div class="col-lg-3 col-md-4 col-sm-6">
        {% if user.is_authenticated and user.profile.account_type == 'veterinarian' %}
          <a href="{% url 'vet_appointments' %}" class="category-card">
            <img src="{% static 'images/icon_health.png' %}" class="category-icon" alt="æŸ¥çœ‹é ç´„">
            <div class="category-text">æŸ¥çœ‹é ç´„</div>
          </a>
        {% else %}
          <a href="{% if user.is_authenticated %}{% url 'health_rec' %}{% else %}{% url 'account_login' %}{% endif %}" class="category-card">
            <img src="{% static 'images/icon_health.png' %}" class="category-icon" alt="å¥åº·ç´€éŒ„">
            <div class="category-text">å¥åº·ç´€éŒ„</div>
          </a>
        {% endif %}
      </div>

      <!-- ç¬¬ä¸‰å€‹åŠŸèƒ½å¡ç‰‡ -->
      <div class="col-lg-3 col-md-4 col-sm-6">
        {% if user.is_authenticated and user.profile.account_type == 'clinic_admin' %}
          <a href="{% url 'manage_schedules' %}" class="category-card">
            <img src="{% static 'images/icon_time.png' %}" class="category-icon" alt="æ’ç­ç®¡ç†">
            <div class="category-text">æ’ç­ç®¡ç†</div>
          </a>
        {% else %}
          <a href="{% url 'map' %}" class="category-card">
            <img src="{% static 'images/icon_location.png' %}" class="category-icon" alt="æœå°‹é™„è¿‘">
            <div class="category-text">æœå°‹é™„è¿‘</div>
          </a>
        {% endif %}
      </div>
      
      <!-- ç¬¬å››å€‹åŠŸèƒ½å¡ç‰‡ -->
      <div class="col-lg-3 col-md-4 col-sm-6">
        <a href="{% url 'emergency_map' %}" class="category-card">
          <img src="{% static 'images/icon_emergency.png' %}" class="category-icon" alt="æ€¥è¨º">
          <div class="category-text">
            <span class="text-danger">24H æ€¥è¨º</span>
          </div>
        </a>
      </div>
    </div>
  </div>
</section>

<!-- Features Highlight Section -->
<section class="py-5 bg-light">
  <div class="container">
    <div class="row">
      <div class="col-12 text-center mb-5">
        <h2 class="display-6 fw-bold text-dark">ç‚ºä»€éº¼é¸æ“‡ PAW&DAYï¼Ÿ</h2>
        <p class="lead text-muted">å°ˆæ¥­ã€ä¾¿åˆ©ã€å®‰å¿ƒçš„å¯µç‰©ç”Ÿæ´»ç®¡ç†</p>
      </div>
    </div>
    
    <div class="row g-4">
      <div class="col-lg-4 col-md-6">
        <div class="text-center h-100 p-4">
          <div class="bg-warning bg-opacity-10 rounded-circle d-inline-flex align-items-center justify-content-center mb-3" style="width: 80px; height: 80px;">
            <i class="bi bi-shield-check text-warning" style="font-size: 2rem;"></i>
          </div>
          <h4 class="fw-bold">å°ˆæ¥­å¯é </h4>
          <p class="text-muted">èˆ‡èªè­‰ç¸é†«åˆä½œï¼Œæä¾›æœ€å°ˆæ¥­çš„å¯µç‰©å¥åº·ç®¡ç†å»ºè­°</p>
        </div>
      </div>
      
      <div class="col-lg-4 col-md-6">
        <div class="text-center h-100 p-4">
          <div class="bg-warning bg-opacity-10 rounded-circle d-inline-flex align-items-center justify-content-center mb-3" style="width: 80px; height: 80px;">
            <i class="bi bi-phone text-warning" style="font-size: 2rem;"></i>
          </div>
          <h4 class="fw-bold">éš¨æ™‚éš¨åœ°</h4>
          <p class="text-muted">æ‰‹æ©Ÿã€é›»è…¦éƒ½èƒ½ä½¿ç”¨ï¼Œéš¨æ™‚è¨˜éŒ„æ¯›å­©çš„ç”Ÿæ´»é»æ»´</p>
        </div>
      </div>
      
      <div class="col-lg-4 col-md-6">
        <div class="text-center h-100 p-4">
          <div class="bg-warning bg-opacity-10 rounded-circle d-inline-flex align-items-center justify-content-center mb-3" style="width: 80px; height: 80px;">
            <i class="bi bi-heart-fill text-warning" style="font-size: 2rem;"></i>
          </div>
          <h4 class="fw-bold">ç”¨å¿ƒæœå‹™</h4>
          <p class="text-muted">è²¼å¿ƒçš„æé†’åŠŸèƒ½ï¼Œæ°¸é ä¸æœƒéŒ¯éé‡è¦çš„å¥åº·æª¢æŸ¥</p>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Call to Action -->
{% if not user.is_authenticated %}
<section class="py-5">
  <div class="container">
    <div class="row">
      <div class="col-lg-8 mx-auto text-center">
        <h2 class="display-6 fw-bold mb-4">ç«‹å³åŠ å…¥ PAW&DAY å¤§å®¶åº­</h2>
        <p class="lead text-muted mb-4">é–‹å§‹ç‚ºæ‚¨çš„æ¯›å­©å»ºç«‹å°ˆå±¬çš„å¥åº·æª”æ¡ˆ</p>
        <div class="d-flex flex-wrap justify-content-center gap-3">
          <a href="{% url 'account_signup' %}" class="btn btn-primary-custom btn-lg">
            <i class="bi bi-person-plus me-2"></i>å…è²»è¨»å†Š
          </a>
          <a href="{% url 'account_login' %}" class="btn btn-outline-warning btn-lg">
            <i class="bi bi-box-arrow-in-right me-2"></i>ç«‹å³ç™»å…¥
          </a>
        </div>
      </div>
    </div>
  </div>
</section>
{% endif %}

<!-- AI å®¢æœæŒ‰éˆ• -->
<div id="chatbot-button" title="AI å®¢æœ">ğŸ’¬</div>

<!-- AI å®¢æœå°è©±æ¡† -->
<div id="chatbot-box">
    <div id="chatbot-header">
        AI å®¢æœ
        <span id="chatbot-close">âœ–</span>
    </div>
    <div id="chatbot-messages"></div>
    <div id="chatbot-input">
        <input type="text" id="chatbot-text" placeholder="è«‹è¼¸å…¥è¨Šæ¯..." />
        <button id="chatbot-send">é€å‡º</button>
    </div>
</div>

{% endblock %}

{% block extra_js %}
<script src="{% static 'js/homepage.js' %}"></script>
{% endblock %}